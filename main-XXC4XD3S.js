import{b as j}from"./chunk-KJAUHUPT.js";import"./chunk-BGJW4OQ3.js";import{Aa as p,P as g,Q as v,R as S,k as a,l as c,n as d,o as f,q as h,qa as x,r as m,ra as E,sa as M,ta as U,va as y,wa as C,ya as u,za as I}from"./chunk-VA5LK5KF.js";var w=(e,t)=>{let k=f(C);return f(p).getUser()?!0:(k.navigate(["main"]),!1)};var O=[{path:"main",loadChildren:()=>import("./chunk-BFLIK5EX.js").then(e=>e.MainPageModule)},{path:"exercises",loadChildren:()=>import("./chunk-OEL7L72G.js").then(e=>e.ExercisesModule),canActivate:[w]},{path:"**",redirectTo:"main"}],T=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=m({type:t}),t.\u0275inj=c({imports:[u.forRoot(O),u]});let e=t;return e})();var N=(()=>{let t=class t{constructor(){this.title="Tough English"}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=h({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"init-page"]],template:function(o,i){o&1&&(g(0,"div",0),S(1,"router-outlet"),v())},dependencies:[y],styles:[".init-page[_ngcontent-%COMP%]{height:100%;height:100vh;flex-grow:1}"]});let e=t;return e})();var R=(()=>{let t=class t{constructor(){this.userStorage=[]}checkUser(r){let o={},i=this.userStorage.find(n=>n.login===r.login),s=localStorage.getItem(I);if(s){let n=JSON.parse(s);o=n?.login===r.login?n:null}else i&&(o=i);return o?.psw===r.psw}setUser(r){console.log("AuthService USER",r),!this.userStorage.find(i=>i.login===r.login)&&r?.login&&this.userStorage.push(r)}isUserExists(r){return!!this.userStorage.find(i=>i.login===r.login)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var b=(()=>{let t=class t{constructor(r){this.userService=r}intercept(r,o){let i=this.userService.getToken();if(i){let s=r.clone({headers:r.headers.set("Autorization","Bearer "+i)});return o.handle(s)}else return o.handle(r)}};t.\u0275fac=function(o){return new(o||t)(d(p))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var F=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=m({type:t,bootstrap:[N]}),t.\u0275inj=c({providers:[R,{provide:x,useClass:b,multi:!0}],imports:[U,T,E,j]});let e=t;return e})();M().bootstrapModule(F).catch(e=>console.error(e));
